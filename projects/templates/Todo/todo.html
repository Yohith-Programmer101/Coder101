<!DOCTYPE html>
<html lang="en">

    {% load static %}

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Todo App</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <meta name="keywords"
            content="coder101, coderone, hacker101, hackerone, example, html, css, javascript , animation, transmition, background, styling , style , script">
        <meta name="author" content="Yohith">
        <meta name="owner" content="Yohith">
        <link rel='shortcut icon' type='image/ico'
            href='data:image/jpeg;base64,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'>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
            integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js"
            integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj"
            crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" href="{% static 'navstyle.css' %}">
        <meta name="description" content="This page is a part of coder101 website, Todo app with javascript.">
        <style>
            .done {
                background-color: #d9d9d9;
                text-decoration: line-through;
            }

            .time {
                letter-spacing: .025em;
                font-family: Roboto, Arial, sans-serif;
                font-size: 0.75rem;
                font-weight: 400;
                line-height: 1rem;
                color: white;
                background-color: grey;
                padding: 2px;
                border-radius: 2px;
                margin-left: 5px;
            }

            @media only screen and (max-width: 500px) {
                #timer {
                    display: none;
                }
            }
        </style>
    </head>

    <body>
        <nav class="navbar navbar-dark bg-dark">
            <p style="font-size: 25px; color: white;">Todo App</p>
            <p id="timer" style="float: right; color: white; font-size: 20px;"></p>
        </nav>
        <div class="row" style="margin-bottom: 50px;">
            </h4>
        </div>
        <div class="container">
            <div class="row">
                <div class="form-group">
                    <h2>Add Item</h2>
                    <div class="row"><input type="text" id="todo_input" onchange="addTodoItem()" name="todo_input"
                            placeholder="Add Item.." class="form-control" style="margin: 10px;"></div>
                    <button onclick="addTodoItem()" class="btn btn-primary">Submit</button>
                </div>
            </div>
            <div class="row">
                <div id="list-group" class="list-group" style="margin: 10px;">

                </div>
            </div>
        </div>

        <script>
            if (!localStorage.getItem("data")) {
                localStorage.setItem("data", JSON.stringify([]))
            }
            var data = JSON.parse(localStorage.getItem("data"))

            $(document).ready(function () {
                $('[data-toggle="tooltip"]').tooltip();
            });

            setInterval(timer, 1000)
            function timer() {
                $("#timer").html(topDate());
            }

            function updateTodoItems() {
                document.getElementById("list-group").innerHTML = ""
                for (i = 0; i < data.length; i++) {
                    var item = document.createElement("span")
                    item.setAttribute("title", data[i]["text"]);
                    item.style.cursor = "pointer";
                    item.addEventListener("click", function () { this.classList.toggle("done") })
                    var innerhtml = "<span class='todo_text' style='font-size: 20px;'>" + data[i]["text"] + "</span>" + "<button style='float:right;' class='btn btn-danger' onclick='deleteItem(`" + data[i]["text"] + "`)'><img style='width: 20px; height: 20px;' src='https://cdn.iconscout.com/icon/premium/png-256-thumb/delete-1390069-1189298.png' alt='delete'></button>" + "<small class='time'>" + data[i]["time"] + "</small>"
                    item.innerHTML = innerhtml
                    item.classList.add("list-group-item")
                    document.getElementById("list-group").appendChild(item);
                }
            }

            function deleteItem(todo_text) {
                for (i = 0; i < data.length; i++) {
                    if (data[i]["text"] === todo_text) {
                        data.splice(i, 1);
                    }
                }
                updateTodoItems();
                localStorage.setItem("data", JSON.stringify(data))
            }

            function topDate() {
                d = new Date()
                var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
                var format = months[d.getMonth()] + " " + d.getDate() + ", " + d.getFullYear() + ", " + d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds();
                return format
            }

            function currentDate() {
                d = new Date()
                var months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                var format = months[d.getMonth()] + " " + d.getDate() + ", " + d.getFullYear() + ", " + d.getHours() + ":" + d.getMinutes();
                return format
            }

            console.log(currentDate());

            function addTodoItem() {
                var text = $("#todo_input").val()
                $("#todo_input").val("")
                var todo = { "text": text, "time": currentDate() }
                data.unshift(todo);
                updateTodoItems();
                localStorage.setItem("data", JSON.stringify(data))
            }

            updateTodoItems();
        </script>
    </body>

</html>